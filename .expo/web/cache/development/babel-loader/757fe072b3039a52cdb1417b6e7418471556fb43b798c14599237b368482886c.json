{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\robin\\\\Documents\\\\RpgHybrid\\\\src\\\\components\\\\Timer.js\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-paper/lib/module/components/Typography/Text\";\nimport Button from \"react-native-paper/lib/module/components/Button/Button\";\nimport ProgressBar from \"react-native-paper/lib/module/components/ProgressBar\";\nimport { colors } from '../theme/colors';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Timer = ({\n  duration,\n  onComplete,\n  onSkip\n}) => {\n  const [timeRemaining, setTimeRemaining] = useState(duration);\n  const [isActive, setIsActive] = useState(true);\n  useEffect(() => {\n    setTimeRemaining(duration);\n    setIsActive(true);\n  }, [duration]);\n  useEffect(() => {\n    let interval = null;\n    if (isActive && timeRemaining > 0) {\n      interval = setInterval(() => {\n        setTimeRemaining(time => {\n          if (time <= 1) {\n            setIsActive(false);\n            onComplete && onComplete();\n            return 0;\n          }\n          return time - 1;\n        });\n      }, 1000);\n    } else {\n      clearInterval(interval);\n    }\n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [isActive, timeRemaining, onComplete]);\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n  const getProgressColor = () => {\n    if (timeRemaining <= 5) return colors.error;\n    if (timeRemaining <= 10) return colors.warning;\n    return colors.primary;\n  };\n  const progress = duration > 0 ? (duration - timeRemaining) / duration : 0;\n  return _jsxDEV(View, {\n    style: styles.container,\n    children: [_jsxDEV(View, {\n      style: styles.timerCircle,\n      children: _jsxDEV(Text, {\n        style: [styles.timeText, {\n          color: getProgressColor()\n        }],\n        children: formatTime(timeRemaining)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), _jsxDEV(ProgressBar, {\n      progress: progress,\n      color: getProgressColor(),\n      style: styles.progressBar\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.controls,\n      children: onSkip && timeRemaining > 0 && _jsxDEV(Button, {\n        mode: \"outlined\",\n        onPress: () => {\n          setIsActive(false);\n          onSkip();\n        },\n        style: styles.skipButton,\n        labelStyle: {\n          color: colors.textSecondary\n        },\n        children: \"Passer le repos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), timeRemaining <= 5 && timeRemaining > 0 && _jsxDEV(View, {\n      style: styles.urgentContainer,\n      children: _jsxDEV(Text, {\n        style: styles.urgentText,\n        children: \"Pr\\xE9parez-vous ! \\u26A1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    padding: 20\n  },\n  timerCircle: {\n    width: 200,\n    height: 200,\n    borderRadius: 100,\n    backgroundColor: colors.surface,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 20,\n    elevation: 4,\n    shadowColor: colors.primary,\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 8\n  },\n  timeText: {\n    fontSize: 48,\n    fontWeight: 'bold',\n    fontFamily: 'monospace'\n  },\n  progressBar: {\n    width: 250,\n    height: 8,\n    borderRadius: 4,\n    backgroundColor: colors.border,\n    marginBottom: 20\n  },\n  controls: {\n    alignItems: 'center'\n  },\n  skipButton: {\n    borderColor: colors.border\n  },\n  urgentContainer: {\n    marginTop: 10,\n    padding: 8,\n    backgroundColor: colors.error + '20',\n    borderRadius: 8\n  },\n  urgentText: {\n    color: colors.error,\n    fontSize: 16,\n    fontWeight: 'bold',\n    textAlign: 'center'\n  }\n});\nexport default Timer;","map":{"version":3,"names":["React","useState","useEffect","View","StyleSheet","Text","Button","ProgressBar","colors","jsxDEV","_jsxDEV","Timer","duration","onComplete","onSkip","timeRemaining","setTimeRemaining","isActive","setIsActive","interval","setInterval","time","clearInterval","formatTime","seconds","mins","Math","floor","secs","toString","padStart","getProgressColor","error","warning","primary","progress","style","styles","container","children","timerCircle","timeText","color","fileName","_jsxFileName","lineNumber","columnNumber","progressBar","controls","mode","onPress","skipButton","labelStyle","textSecondary","urgentContainer","urgentText","create","alignItems","padding","width","height","borderRadius","backgroundColor","surface","justifyContent","marginBottom","elevation","shadowColor","shadowOffset","shadowOpacity","shadowRadius","fontSize","fontWeight","fontFamily","border","borderColor","marginTop","textAlign"],"sources":["C:/Users/robin/Documents/RpgHybrid/src/components/Timer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, StyleSheet } from 'react-native';\r\nimport { Text, Button, ProgressBar } from 'react-native-paper';\r\nimport { colors } from '../theme/colors';\r\n\r\nconst Timer = ({ duration, onComplete, onSkip }) => {\r\n  const [timeRemaining, setTimeRemaining] = useState(duration);\r\n  const [isActive, setIsActive] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setTimeRemaining(duration);\r\n    setIsActive(true);\r\n  }, [duration]);\r\n\r\n  useEffect(() => {\r\n    let interval = null;\r\n\r\n    if (isActive && timeRemaining > 0) {\r\n      interval = setInterval(() => {\r\n        setTimeRemaining(time => {\r\n          if (time <= 1) {\r\n            setIsActive(false);\r\n            onComplete && onComplete();\r\n            return 0;\r\n          }\r\n          return time - 1;\r\n        });\r\n      }, 1000);\r\n    } else {\r\n      clearInterval(interval);\r\n    }\r\n\r\n    return () => {\r\n      if (interval) clearInterval(interval);\r\n    };\r\n  }, [isActive, timeRemaining, onComplete]);\r\n\r\n  const formatTime = (seconds) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const getProgressColor = () => {\r\n    if (timeRemaining <= 5) return colors.error;\r\n    if (timeRemaining <= 10) return colors.warning;\r\n    return colors.primary;\r\n  };\r\n\r\n  const progress = duration > 0 ? (duration - timeRemaining) / duration : 0;\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.timerCircle}>\r\n        <Text style={[styles.timeText, { color: getProgressColor() }]}>\r\n          {formatTime(timeRemaining)}\r\n        </Text>\r\n      </View>\r\n\r\n      <ProgressBar \r\n        progress={progress}\r\n        color={getProgressColor()}\r\n        style={styles.progressBar}\r\n      />\r\n\r\n      <View style={styles.controls}>\r\n        {onSkip && timeRemaining > 0 && (\r\n          <Button\r\n            mode=\"outlined\"\r\n            onPress={() => {\r\n              setIsActive(false);\r\n              onSkip();\r\n            }}\r\n            style={styles.skipButton}\r\n            labelStyle={{ color: colors.textSecondary }}\r\n          >\r\n            Passer le repos\r\n          </Button>\r\n        )}\r\n      </View>\r\n\r\n      {timeRemaining <= 5 && timeRemaining > 0 && (\r\n        <View style={styles.urgentContainer}>\r\n          <Text style={styles.urgentText}>\r\n            Préparez-vous ! ⚡\r\n          </Text>\r\n        </View>\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    alignItems: 'center',\r\n    padding: 20,\r\n  },\r\n  timerCircle: {\r\n    width: 200,\r\n    height: 200,\r\n    borderRadius: 100,\r\n    backgroundColor: colors.surface,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n    elevation: 4,\r\n    shadowColor: colors.primary,\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.3,\r\n    shadowRadius: 8,\r\n  },\r\n  timeText: {\r\n    fontSize: 48,\r\n    fontWeight: 'bold',\r\n    fontFamily: 'monospace',\r\n  },\r\n  progressBar: {\r\n    width: 250,\r\n    height: 8,\r\n    borderRadius: 4,\r\n    backgroundColor: colors.border,\r\n    marginBottom: 20,\r\n  },\r\n  controls: {\r\n    alignItems: 'center',\r\n  },\r\n  skipButton: {\r\n    borderColor: colors.border,\r\n  },\r\n  urgentContainer: {\r\n    marginTop: 10,\r\n    padding: 8,\r\n    backgroundColor: colors.error + '20',\r\n    borderRadius: 8,\r\n  },\r\n  urgentText: {\r\n    color: colors.error,\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n  },\r\n});\r\n\r\nexport default Timer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}